<!doctype html>
<html>
    <head>
        <title>Socket.IO chat</title>
        <style>
            body, html {
                height: 100%;
            }

            #container {
                height: 99%;
                width: 100%;
            }
        </style>
    </head>
    <body>
        <div id="container">
            <canvas id="cpu"></canvas>
        </div>

        <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
        <script src="/socket.io/socket.io.js"></script>
        <script src="bower_components/chartjs/Chart.min.js"></script>

        <script>
            var socket = io();

            socket.on("status", function(data) {
                console.log(data);
            });

            var width = $("canvas").parent().width();
            var height = $("canvas").parent().height();
            $("canvas").attr("width", width);
            $("canvas").attr("height", height);
            setupCharts();
            window.onresize = function(event){
                var width = $("canvas").parent().width();
                var height = $("canvas").parent().height();
                $("canvas").attr("width", width);
                $("canvas").attr("height", height);

                setupCharts();
            };

            setupCharts();

            function setupCharts() {


                var data = {
                    labels: ["02:13:31", "02:13:32"],
                    datasets: [
                        {
                            label: "cpu",
                            data: [2.3, 3.3]
                        }
                    ]
                };

                var options = {
                    responsive: true
                };

                var context = document.getElementById("cpu").getContext("2d");
                var cpuChart = new Chart(context).Line(data, options);
            }

        </script>
    </body>
</html>